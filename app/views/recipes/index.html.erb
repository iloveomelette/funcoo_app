<div class="recipes-container flex">
  <aside class="px-2.5 md:pl-3 flex-left">
    <% if user_signed_in? %>
      <%= render "recipes/shared/search_form", collection: @q %>
    <% else %>
      <div class="commonCard-outstyle userInfo-wrapper p-2.5">
        <p class="text-xl">レシピ検索</p>
        <p class="text-sm mt-4">新規登録 or ログインをすると<span class="inline-block">レシピを検索できます</span></p>
        <div class="text-center mt-8">
          <%= link_to '新規登録', new_user_registration_path, class: 'login-btn leading-10' %>
          <%= link_to 'ログイン', new_user_session_path, class: 'login-btn mt-4 leading-10' %>
        </div>
      </div>
    <% end %>
  </aside>

  <main class="flex-center">
    <div class="recipeIndex-wrapper md:px-10 m-auto">
      <% if user_signed_in? %>
        <% if current_user.characteristic == "general" || current_user.email == "guest@example.com" %>
          <section class="px-6 mb-10 md:p-0">
            <h2 class="mb-3.5 text-2xl">あなたへのおすすめ</h2>
            <%= render "recipes/shared/recommend", recommend: @recommend, contributor: @contributor %>
          </section>
        <% end %>
      <% end %>

      <section>
        <h2 class="text-2xl">レシピ一覧</h2>
        <div class="recipeArticles-wrapper">
          <%= render @recipes %>
        </div>
      </section>
    </div>
  </main>

  <aside class="px-2.5 md:pr-3 flex-right">
    <% if user_signed_in? %>
      <div class="commonCard-outstyle userInfo-wrapper p-2.5">
        <p class="text-xl"><%= current_user.name %>さんの情報</p>
        <div class="info-msg">
          <p class="text-sm">現在 Lv. <%= current_user.level %></p>
          <p class="text-sm mt-4">経験値 <%= current_user.experience_point %>Exp</p>
          <p class="text-sm mt-4">次のレベルまであと <%= current_user.rest_point %>Exp</p>
        </div>
      </div>
    <% else %>
      <div class="commonCard-outstyle userInfo-wrapper p-2.5">
        <p class="text-xl">ユーザ情報</p>
        <p class="text-sm mt-4">新規登録 or ログインをすると<span class="inline-block">ユーザ情報を表示します</span></p>
        <div class="text-center mt-8">
          <%= link_to '新規登録', new_user_registration_path, class: 'login-btn leading-10' %>
          <%= link_to 'ログイン', new_user_session_path, class: 'login-btn mt-4 leading-10' %>
        </div>
      </div>
    <% end %>

    <div class="commonCard-outstyle userInfo-wrapper p-2.5 mt-8">
      <p>運営からのお知らせ</p>
      <div class="info-msg">
        <span class="info-date">2022/05/09</span>
        <p class="text-sm">ランキングページで人気のレシピをチェックしましょう</p>
      </div>
      <div class="info-msg">
        <span class="info-date">2022/05/08</span>
        <p class="text-sm">レシピのお気に入り登録ができるようになりました</p>
      </div>
      <div class="info-msg">
        <span class="info-date">2022/05/03</span>
        <p class="text-sm">デザインを刷新しました</p>
      </div>
      <div class="info-msg">
        <span class="info-date">2022/05/01</span>
        <p class="text-sm">マイページの閲覧などができるようになりました</p>
      </div>
      <div class="info-msg">
        <span class="info-date">2022/04/29</span>
        <p class="text-sm">Googleアカウントでのログインができるようになりました</p>
      </div>
      <div class="info-msg">
        <span class="info-date">2022/04/26</span>
        <p class="text-sm">レベル機能を追加しました</p>
      </div>
    </div>
  </aside>
</div>
<div class="paginate mt-10 lg:m-0"><%= paginate @recipes %></div>
